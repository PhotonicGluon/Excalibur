Changed native file saving behaviour to better deal with errors
