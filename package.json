{
    "name": "excalibur-monorepo",
    "private": true,
    "scripts": {
        "prepare": "husky",
        "update": "npx npm-check-updates --peer -u && cd app && npm run update && cd ../server && uv lock --upgrade",
        "sync": "npm i && cd app && npm i && cd ../server && uv sync --all-groups",
        "app:start": "cd app && npx vite dev --port 5173",
        "server:setup-for-test": "cd server && cross-env-shell EXCALIBUR_ROOT_FOLDER=excalibur-test-files \"uv run excalibur init -r && uv run excalibur user add --username test-user --password Password --vault-key g7uMn17DkmWI3PBtxmiCLnQf34nXuEfpgexHUNBMOW0\\=\"",
        "server:start": "cd server && uv run excalibur start --port 8989 --debug",
        "server:start-for-test": "cross-env-shell EXCALIBUR_ROOT_FOLDER=excalibur-test-files \"npm run server:setup-for-test && npm run server:start\"",
        "server:post-test-reset": "cross-env-shell EXCALIBUR_ROOT_FOLDER=excalibur-test-files \"cd server && uv run excalibur reset -y\"",
        "cy:open": "cd app && npx cypress open",
        "cy:run": "cd app && npx cypress run",
        "cy:e2e": "start-server-and-test server:start-for-test http://localhost:8989/api/well-known/heartbeat \"start-server-and-test app:start http://localhost:5173 cy:open && npm run server:post-test-reset\"",
        "test:unit": "cd app && npm run test:unit-run",
        "test:component": "cd app && npm run test:component",
        "test:server": "cd server && uv run excalibur test",
        "test:e2e": "start-server-and-test server:start-for-test http://localhost:8989/api/well-known/heartbeat \"start-server-and-test app:start http://localhost:5173 cy:run && npm run server:post-test-reset\"",
        "test:all": "npm run test:unit && npm run test:component && npm run test:server && npm run test:e2e"
    },
    "devDependencies": {
        "cross-env": "^10.1.0",
        "husky": "^9.1.7",
        "start-server-and-test": "^2.1.2"
    }
}
